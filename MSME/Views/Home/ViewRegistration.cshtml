@model MSME.Models.Home.RegistrationModel
@* @model IEnumerable<RegistrationModel> *@
@{
    ViewData["title"] = "Index";
    Layout = "_LayoutAdmin";
}
@* <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script> *@

<div class="page-header">
    <div>
        <h2 class="main-content-title tx-24 mg-b-5">View Registration</h2>
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="#">View</a></li>
            <li class="breadcrumb-item active" aria-current="page">Registration</li>
        </ol>
    </div>

</div>

<div class="row">
    <div class="col-lg-12 col-md-12">
        <div class="card custom-card">
            <div class="card-body">
            <form id="Form1" method="post" asp-controller="Home" asp-action="ViewRegistration">

                <div class="col-md-4">
                    <div class="form-group">
                        <label asp-for="RegistrationType" class="large"></label>
                        <select asp-for="RegistrationType" class="form-control">
                            <option value="">--Please Select--</option>
                            <option value="MSME">MSME Registration</option>
                            <option value="OTHER">Other Registration</option>
                        </select>
                        <span style="color:red; font-size:x-small; font-weight:bold" asp-validation-for="RegistrationType"></span>
                    </div>
                </div>
                @* <div class="col-md-4">
                <div class="form-group">
                <br />
                <input id="btnSearch" type="button" value="Search" class="btn btn-primary" />
                @* <input type="hidden" id="Rtype" /> *@

                <div class="border-top">
                    <div class="card-body">
                        <input type="submit" class="btn btn-primary" value="Submit" />
                    </div>
                </div>


                @* </div> *@
                <!--MSME-->
                @if (Model.RegistrationType == "MSME")
                {
                    <div class="card" id="grdMSME">
                        <div class="card-body">
                            <h5 class="card-title">MSME Registration List</h5>
                            <div class="table-responsive">
                                <table id="exportexample" class="table text-wrap w-100 table-sm">
                                    <thead>
                                        <tr>
                                            <th>S.No</th>
                                            <th>
                                                Enterprise Name
                                            </th>
                                            <th>
                                                District
                                            </th>
                                            <th>
                                                Address
                                            </th>
                                            <th>
                                                Category
                                            </th>
                                            <th>
                                                Industry
                                            </th>
                                            <th>
                                                Sector
                                            </th>
                                            <th>
                                                Udyam Reg
                                            </th>
                                            <th>
                                                @Html.DisplayNameFor(c => c.CreatedDate)
                                            </th>

                                            @*   <th>
                                        Action
                                        </th> *@
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @{
                                            int sno = 0;
                                        }
                                        @if (Model.RegistrationList != null)
                                        {
                                            @if (Model.RegistrationList.Count > 0)
                                            {
                                                @foreach (var item in Model.RegistrationList)
                                                {
                                                    <tr>
                                                        <td>
                                                            @{
                                                                sno++;
                                                            }
                                                            @sno
                                                        </td>
                                                        <td>@item.EnterpriseName</td>
                                                        <td>@item.EnterpriseDistrict</td>
                                                        <td>@item.EnterpriseAddress</td>
                                                        <td>@item.EnterpriseCategory</td>
                                                        <td>@item.IndustryType</td>
                                                        <td>@item.Sector</td>
                                                        <td>@item.UdyamRegistrationNo</td>
                                                        <td>@item.CreatedDate</td>
                                                        @* <td>
                                        <div class="table-actions text-center">
                                        <a asp-action="Edit" id="edit" asp-route-id=@item.EncryptedId data-bs-toggle="tooltip" title="" data-bs-placement="top" data-bs-original-title="Edit"><i class="fe fe-edit fs-16 mr-30 text-success"></i></a>
                                        <a asp-action="Details" id="details" asp-route-id=@item.EncryptedId data-bs-toggle="tooltip" title="" data-bs-placement="top" data-bs-original-title="View"><i class="fe fe-eye fs-16 mr-30 text-warning"></i></a>
                                        <a asp-action="Delete" id="delete" asp-route-id=@item.EncryptedId data-bs-toggle="tooltip" title="" data-bs-placement="top" data-bs-original-title="Delete" onclick="return confirm('Are you sure you want to delete this?')"><i class="fe fe-trash fs-16 text-danger"></i></a>
                                        </div>
                                        </td> *@
                                                    </tr>
                                                }
                                            }
                                            else
                                            {
                                                <tr style="text-align:center; font-weight:bold">
                                                    <td style="color:red" colspan="20">No Record Found</td>
                                                </tr>
                                            }
                                        }
                                        else
                                        {
                                            <tr style="text-align:center; font-weight:bold">
                                                <td style="color:red" colspan="20">No Record Found</td>
                                            </tr>
                                        }
                                    </tbody>
                                    @* <tfoot>
                                <tr>
                                <th>Name</th>
                                <th>Position</th>
                                <th>Office</th>
                                <th>Age</th>
                                <th>Start date</th>
                                <th>Salary</th>
                                </tr>
                                </tfoot> *@
                                </table>
                            </div>
                        </div>
                    </div>
                }

                <!--OTHER-->
                @if (Model.RegistrationType == "OTHER")
                {
                    <div class="card" id="grdOTHER">
                        <div class="card-body">
                            <h5 class="card-title">Other Registration List</h5>
                            <div class="table-responsive">
                                <table id="exportexample" class="table text-wrap w-100 table-sm">
                                    <thead>
                                        <tr>
                                            <th>S.No</th>
                                            <th>
                                                Participant Name
                                            </th>
                                            <th>
                                                Organisation Name
                                            </th>
                                            <th>
                                                Participant Designation
                                            </th>
                                            <th>
                                                Participant Contact
                                            </th>
                                            <th>
                                                Participant EmailId
                                            </th>

                                            <th>
                                                @Html.DisplayNameFor(c => c.CreatedDate)
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @{
                                            int sno1 = 0;
                                        }
                                        @if (Model.RegistrationList != null)
                                        {
                                            @if (Model.RegistrationList.Count > 0)
                                            {
                                                @foreach (var item in Model.RegistrationList)
                                                {
                                                    <tr>
                                                        <td>
                                                            @{
                                                                sno1++;
                                                            }
                                                            @sno1
                                                        </td>

                                                        <td>@item.PartcipantsName</td>
                                                        <td>@item.OrganisationName</td>
                                                        <td>@item.PartcipantsDesignation</td>
                                                        <td>@item.PartcipantsContact</td>
                                                        <td>@item.PartcipantsEmailId</td>
                                                        <td>@item.CreatedDate</td>
                                                    </tr>
                                                }
                                            }
                                            else
                                            {
                                                <tr style="text-align:center; font-weight:bold">
                                                    <td style="color:red" colspan="20">No Record Found</td>
                                                </tr>
                                            }
                                        }
                                        else
                                        {
                                            <tr style="text-align:center; font-weight:bold">
                                                <td style="color:red" colspan="20">No Record Found</td>
                                            </tr>
                                        }
                                    </tbody>
                                    @* <tfoot>
                                <tr>
                                <th>Name</th>
                                <th>Position</th>
                                <th>Office</th>
                                <th>Age</th>
                                <th>Start date</th>
                                <th>Salary</th>
                                </tr>
                                </tfoot> *@
                                </table>
                            </div>
                        </div>
                    </div>
                }
            </form>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        $("#btnSearch").click(function () {
            if ($("#RegistrationType").val() == "") {
                $('#grdMSME').css('display', 'none');
                $('#grdOTHER').css('display', 'none');
                alert("Please Select Registration Type");
            }
            else if ($("#RegistrationType").val() == "MSME") {
                $('#grdMSME').css('display', 'block');
                $('#grdOTHER').css('display', 'none');
                $("#Form1").submit();
            }
            else if ($("#RegistrationType").val() == "OTHER") {
                $('#grdMSME').css('display', 'none');
                $('#grdOTHER').css('display', 'block');
                $("#Form1").submit();
            }
        });
    });
</script>




